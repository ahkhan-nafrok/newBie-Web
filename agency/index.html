<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Professional web solutions delivered fast, transparent, and built to convert your visitors into customers">
    <meta name="theme-color" content="#000000">
    <title>Web Agency - Simple Websites for Your Business</title>
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Top Benefits Slider -->
    <div class="benefits-slider-container">
        <div class="benefits-slider">
            <div class="benefits-track">
                <div class="benefit-slide">Launch in 2-3 Weeks</div>
                <div class="benefit-slide">No Hidden Costs</div>
                <div class="benefit-slide">Ongoing Support</div>
                <div class="benefit-slide">Launch in 2-3 Weeks</div>
                <div class="benefit-slide">No Hidden Costs</div>
                <div class="benefit-slide">Ongoing Support</div>
            </div>
            <div class="benefits-track" aria-hidden="true">
                <div class="benefit-slide">Launch in 2-3 Weeks</div>
                <div class="benefit-slide">No Hidden Costs</div>
                <div class="benefit-slide">Ongoing Support</div>
                <div class="benefit-slide">Launch in 2-3 Weeks</div>
                <div class="benefit-slide">No Hidden Costs</div>
                <div class="benefit-slide">Ongoing Support</div>
            </div>
            <div class="benefits-track" aria-hidden="true">
                <div class="benefit-slide">Launch in 2-3 Weeks</div>
                <div class="benefit-slide">No Hidden Costs</div>
                <div class="benefit-slide">Ongoing Support</div>
                <div class="benefit-slide">Launch in 2-3 Weeks</div>
                <div class="benefit-slide">No Hidden Costs</div>
                <div class="benefit-slide">Ongoing Support</div>
            </div>
        </div>
    </div>

    <!-- Navbar -->
    <nav class="navbar">
        <div class="logo" onclick="scrollToTop()">
            <img src="font1.png" alt="NAFROK">
        </div>
        <button class="mobile-toggle" id="mobileToggle" onclick="toggleMenu()">
            <div class="mobile-toggle-inner">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </button>
        <ul class="nav-links" id="navLinks">
            <li><a href="#hero-section" data-section="hero-section">Home</a></li>
            <li><a href="#services-section" data-section="services-section">Services</a></li>
            <li><a href="#why-us-section" data-section="why-us-section">Why Us</a></li>
            <li><a href="#contact-section" data-section="contact-section">Contact</a></li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <section id="hero-section" class="loading">Loading...</section>
        <section id="clients-section"></section>
        <section id="services-section"></section>
        <section id="why-us-section"></section>
        <section id="contact-section"></section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <div class="footer-logo">
                    <img src="font1.png" alt="NAFROK Logo">
                </div>
                <p>Building simple, professional websites for small businesses</p>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <a href="#services-section">Services</a>
                <a href="#why-us-section">Why Us</a>
                <a href="#contact-section">Contact</a>
            </div>
            <div class="footer-section">
                <h4>Contact</h4>
                <p>email@nafrok.com</p>
                <p>+1 (555) 123-4567</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 NAFROK. All rights reserved.</p>
        </div>
    </footer>

    <script>
        const SITE_VERSION = '2.0.1';
        
        const DOM = {
            slider: document.querySelector('.benefits-slider'),
            navLinks: document.getElementById('navLinks'),
            mobileToggle: document.getElementById('mobileToggle'),
            navbar: document.querySelector('.navbar'),
            allNavLinks: document.querySelectorAll('.nav-links a')
        };

        // Slider pause on hover
        if (DOM.slider) {
            DOM.slider.addEventListener('mouseenter', () => {
                DOM.slider.style.animationPlayState = 'paused';
            });
            DOM.slider.addEventListener('mouseleave', () => {
                DOM.slider.style.animationPlayState = 'running';
            });
        }

        // Mobile menu toggle
        function toggleMenu() {
            const isActive = DOM.navLinks.classList.toggle('active');
            DOM.mobileToggle.classList.toggle('active');
        }

        // Close menu on outside click
        document.addEventListener('click', (e) => {
            if (!DOM.navbar.contains(e.target) && DOM.navLinks.classList.contains('active')) {
                DOM.navLinks.classList.remove('active');
                DOM.mobileToggle.classList.remove('active');
            }
        });

        // Smooth scrolling
        document.addEventListener('click', (e) => {
            const anchor = e.target.closest('a[href^="#"]');
            if (!anchor) return;
            
            e.preventDefault();
            const targetId = anchor.getAttribute('href').slice(1);
            const target = document.getElementById(targetId);
            
            if (target) {
                DOM.navLinks.classList.remove('active');
                DOM.mobileToggle.classList.remove('active');
                
                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                updateActiveLink(targetId);
            }
        });

        // Scroll to top
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Scroll handler
        let lastScroll = 0;
        window.addEventListener('scroll', () => {
            const currentScroll = window.pageYOffset;
            
            if (Math.abs(currentScroll - lastScroll) > 10) {
                DOM.navbar.classList.toggle('scrolled', currentScroll > 50);
                lastScroll = currentScroll;
            }
            
            updateActiveLinkOnScroll();
        }, { passive: true });

        // Update active link on scroll
        const sections = Array.from(document.querySelectorAll('[id$="-section"]'));
        
        function updateActiveLinkOnScroll() {
            const scrollPos = window.pageYOffset + 150;
            
            for (let i = sections.length - 1; i >= 0; i--) {
                const section = sections[i];
                if (section.offsetTop <= scrollPos) {
                    updateActiveLink(section.id);
                    break;
                }
            }
        }

        function updateActiveLink(targetId) {
            DOM.allNavLinks.forEach(link => {
                link.classList.toggle('active', link.getAttribute('data-section') === targetId);
            });
        }

        // Section loading
        const loadedSections = new Set();
        
        async function loadSection(url, elementId) {
            if (loadedSections.has(elementId)) return;
            
            const versionedUrl = `${url}?v=${SITE_VERSION}`;
            
            try {
                const response = await fetch(versionedUrl);
                if (!response.ok) throw new Error(`HTTP ${response.status}`);
                
                const html = await response.text();
                const element = document.getElementById(elementId);
                
                if (element) {
                    element.innerHTML = html;
                    element.classList.remove('loading');
                    loadedSections.add(elementId);
                    
                    // Execute scripts
                    const scripts = element.querySelectorAll('script');
                    scripts.forEach(oldScript => {
                        const newScript = document.createElement('script');
                        Array.from(oldScript.attributes).forEach(attr => 
                            newScript.setAttribute(attr.name, attr.value)
                        );
                        newScript.textContent = oldScript.textContent;
                        oldScript.replaceWith(newScript);
                    });
                }
            } catch (error) {
                console.error(`Load error (${url}):`, error);
                const element = document.getElementById(elementId);
                if (element) {
                    element.innerHTML = '<div class="loading">Failed to load. Please refresh.</div>';
                }
            }
        }

        // Intersection Observer for lazy loading
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const id = entry.target.id;
                    const fileMap = {
                        'clients-section': 'clients.html',
                        'services-section': 'services.html',
                        'why-us-section': 'whyus.html',
                        'contact-section': 'contact.html'
                    };
                    
                    if (fileMap[id]) {
                        loadSection(fileMap[id], id);
                        observer.unobserve(entry.target);
                    }
                }
            });
        }, { rootMargin: '100px' });

        // Load sections on page load
        document.addEventListener('DOMContentLoaded', () => {
            loadSection('herosection.html', 'hero-section').then(() => {
                setTimeout(updateActiveLinkOnScroll, 100);
                sections.slice(1).forEach(section => observer.observe(section));
            });
        });

        // Global form handler
        function handleContactSubmit(e) {
            e.preventDefault();
            alert('Thank you for your message! We will get back to you soon.');
            e.target.reset();
        }

        // ESC key to close menu
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && DOM.navLinks.classList.contains('active')) {
                DOM.navLinks.classList.remove('active');
                DOM.mobileToggle.classList.remove('active');
            }
        });
    </script>
</body>
</html>
